webpackJsonp([0x35485589dab52e00],{"./src/components/Button.js":function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=o("./node_modules/react/react.js"),c=n(u);o("./src/less/component/button.less");var l=function(e){function t(){return r(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return c.default.createElement("button",{className:"button-component",onClick:this.props.onClick},this.props.label)},t}(c.default.Component);t.default=l,l.propTypes={label:c.default.PropTypes.string,onClick:c.default.PropTypes.func},e.exports=t.default},'./node_modules/babel-loader/lib/index.js?{"presets":["/home/peng/develop/workspace/stone-site/node_modules/babel-preset-react/lib/index.js","/home/peng/develop/workspace/stone-site/node_modules/babel-preset-es2015/lib/index.js","/home/peng/develop/workspace/stone-site/node_modules/babel-preset-stage-1/lib/index.js",["/home/peng/develop/workspace/stone-site/node_modules/babel-preset-env/lib/index.js",{"loose":true,"uglify":true,"modules":"commonjs","targets":{"browsers":["> 1%","last 2 versions","IE >= 9"]},"exclude":["transform-regenerator","transform-es2015-typeof-symbol"]}],"/home/peng/develop/workspace/stone-site/node_modules/babel-preset-stage-0/lib/index.js","/home/peng/develop/workspace/stone-site/node_modules/babel-preset-react/lib/index.js"],"plugins":["/home/peng/develop/workspace/stone-site/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js","/home/peng/develop/workspace/stone-site/node_modules/babel-plugin-add-module-exports/lib/index.js","/home/peng/develop/workspace/stone-site/node_modules/babel-plugin-add-module-exports/lib/index.js","/home/peng/develop/workspace/stone-site/node_modules/babel-plugin-transform-object-assign/lib/index.js"],"cacheDirectory":true}!./src/components/Game2048.js':function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=o("./node_modules/react/react.js"),c=n(u),l=o("./src/components/Button.js"),i=n(l);o("./src/less/component/Game2048.less");var p=function(e){function t(){r(this,t);var o=s(this,e.call(this));return o.onTouchEnd=function(e){o.touchEndX=e.changedTouches[0].pageX,o.touchEndY=e.changedTouches[0].pageY;var t=o.touchEndX-o.touchStartX,n=o.touchEndY-o.touchStartY,r=null;r=Math.abs(t)>Math.abs(n)?t>0?"ArrowRight":"ArrowLeft":n>0?"ArrowDown":"ArrowUp",o.onMove(r)},o.onKeyDown=function(e){o.onMove(e.code)},o.onMove=function(e){o.movePanel(e)&&(o.getNewNum(),o.setState({}))},o.init=function(){o.score=0,o.arr=[];for(var e=0;e<4;e++)o.arr.push([0,0,0,0]);o.getNewNum(),o.getNewNum()},o.getNewNum=function(){var e=o.getRandomEmpty();e>=0&&(o.arr[Math.floor(e/4)][e%4]=t.getNextCellNumber())},o.movePanel=function(e){var t=0,n=!1;switch(e){case"ArrowLeft":break;case"ArrowRight":t=180;break;case"ArrowUp":t=90;break;case"ArrowDown":t=270;break;default:return n}return o.rotate(t),n=o.merge(),o.rotate(360-t),n},o.merge=function(){for(var e=!1,t=0;t<4;t++){for(var n=[],r=0;r<4;r++)0!==o.arr[t][r]&&(n.push(o.arr[t][r]),r>0&&0===o.arr[t][r-1]&&(e=!0));for(var s=0;s<n.length-1;s++)n[s]===n[s+1]&&(n[s]*=2,n.splice(s+1,1),e=!0);for(;n.length<4;)n.push(0);o.arr[t]=n}return e},o.rotate=function(e){if(e%360!==0)for(var t=0;t<e/90;t++)o.rotate90()},o.rotate90=function(){for(var e=[],t=3;t>=0;t--){for(var n=[],r=0;r<4;r++)n.push(o.arr[r][t]);e.push(n)}o.arr=e},o.onRestart=function(){o.init(),o.setState({})},o.init(),o}return a(t,e),t.prototype.componentWillMount=function(){"undefined"!=typeof document&&(document.addEventListener("keydown",this.onKeyDown.bind(this)),document.addEventListener("touchstart",function(e){this.touchStartX=e.changedTouches[0].pageX,this.touchStartY=e.changedTouches[0].pageY}.bind(this)),document.addEventListener("touchend",this.onTouchEnd))},t.prototype.getRandomEmpty=function(){for(var e=[],t=0;t<4;t++)for(var o=0;o<4;o++)0===this.arr[t][o]&&e.push(4*t+o);return 0===e.length?-1:e[Math.floor(Math.random()*e.length)]},t.getNextCellNumber=function(){return Math.random()>.1?2:4},t.prototype.render=function(){return c.default.createElement("div",{className:"game-2048"},c.default.createElement("div",{className:"header-container"},c.default.createElement("div",{className:"header-text"},"2048"),c.default.createElement("div",{className:"button-container"},c.default.createElement(i.default,{onClick:this.onRestart,label:"New Game"}))),c.default.createElement("div",{className:"grid-container"},this.arr.map(function(e,t){return c.default.createElement("div",{key:t,className:"grid-row"},e.map(function(e,t){return c.default.createElement("div",{key:t,className:"grid-cell"},0===e?"":e)}))})))},t}(u.Component);t.default=p,e.exports=t.default},"./src/less/component/Game2048.less":function(e,t){},"./src/less/component/button.less":function(e,t){}});
//# sourceMappingURL=component---src-components-game-2048-js-d9acf50e59e9be0e63e8.js.map